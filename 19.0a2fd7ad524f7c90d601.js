(function(){var J=document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[19],{J66h:function(g,x,d){(function(y){var b,l;(function(a,p){g.exports=p(a)})(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof y!="undefined"?y:this,function(a){"use strict";a=a||{};var p=a.Base64,v="2.6.4",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(t){for(var r={},s=0,h=t.length;s<h;s++)r[t.charAt(s)]=s;return r}(u),n=String.fromCharCode,e=function(t){if(t.length<2){var r=t.charCodeAt(0);return r<128?t:r<2048?n(192|r>>>6)+n(128|r&63):n(224|r>>>12&15)+n(128|r>>>6&63)+n(128|r&63)}else{var r=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return n(240|r>>>18&7)+n(128|r>>>12&63)+n(128|r>>>6&63)+n(128|r&63)}},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,o=function(t){return t.replace(i,e)},m=function(t){var r=[0,2,1][t.length%3],s=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),h=[u.charAt(s>>>18),u.charAt(s>>>12&63),r>=2?"=":u.charAt(s>>>6&63),r>=1?"=":u.charAt(s&63)];return h.join("")},_=a.btoa&&typeof a.btoa=="function"?function(t){return a.btoa(t)}:function(t){if(t.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return t.replace(/[\s\S]{1,3}/g,m)},D=function(t){return _(o(String(t)))},E=function(t){return t.replace(/[+\/]/g,function(r){return r=="+"?"-":"_"}).replace(/=/g,"")},c=function(t,r){return r?E(D(t)):D(t)},B=function(t){return c(t,!0)},A;a.Uint8Array&&(A=function(t,r){for(var s="",h=0,C=t.length;h<C;h+=3){var H=t[h],T=t[h+1],M=t[h+2],I=H<<16|T<<8|M;s+=u.charAt(I>>>18)+u.charAt(I>>>12&63)+(typeof T!="undefined"?u.charAt(I>>>6&63):"=")+(typeof M!="undefined"?u.charAt(I&63):"=")}return r?E(s):s});var O=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,j=function(t){switch(t.length){case 4:var r=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),s=r-65536;return n((s>>>10)+55296)+n((s&1023)+56320);case 3:return n((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return n((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},P=function(t){return t.replace(O,j)},z=function(t){var r=t.length,s=r%4,h=(r>0?f[t.charAt(0)]<<18:0)|(r>1?f[t.charAt(1)]<<12:0)|(r>2?f[t.charAt(2)]<<6:0)|(r>3?f[t.charAt(3)]:0),C=[n(h>>>16),n(h>>>8&255),n(h&255)];return C.length-=[0,0,2,1][s],C.join("")},S=a.atob&&typeof a.atob=="function"?function(t){return a.atob(t)}:function(t){return t.replace(/\S{1,4}/g,z)},R=function(t){return S(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},W=function(t){return P(S(t))},U=function(t){return String(t).replace(/[-_]/g,function(r){return r=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},w=function(t){return W(U(t))},F;a.Uint8Array&&(F=function(t){return Uint8Array.from(R(U(t)),function(r){return r.charCodeAt(0)})});var K=function(){var t=a.Base64;return a.Base64=p,t};if(a.Base64={VERSION:v,atob:R,btoa:_,fromBase64:w,toBase64:c,utob:o,encode:c,encodeURI:B,btou:P,decode:w,noConflict:K,fromUint8Array:A,toUint8Array:F},typeof Object.defineProperty=="function"){var L=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};a.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",L(function(){return w(this)})),Object.defineProperty(String.prototype,"toBase64",L(function(t){return c(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",L(function(){return c(this,!0)}))}}return a.Meteor&&(Base64=a.Base64),g.exports?g.exports.Base64=a.Base64:(b=[],l=function(){return a.Base64}.apply(x,b),l!==void 0&&(g.exports=l)),{Base64:a.Base64}})}).call(this,d("yLpj"))},reOo:function(g,x,d){"use strict";d.r(x),d.d(x,"init",function(){return u});var y=d("yXPU"),b=d.n(y),l=d("J66h"),a=d.n(l);class p{constructor({container:e}){this._positionHandlers={start:()=>{this.handle.style.setProperty("left","0"),this._clipAfterImg(0)},center:o=>{this.handle.style.setProperty("left",""),this._clipAfterImg(o.width/2)},end:o=>{this.handle.style.setProperty("left",`${o.width}px`),this._clipAfterImg(o.width)}},this.container=e,this.doc=this.container.ownerDocument.documentElement,this._initialized=this.initSizes();const i=this.handle.getBoundingClientRect();this.offset={left:i.width/2,top:i.height/2},this._bindMethods(),this.handle.style.setProperty("left",""),this.handle.addEventListener("touchstart",this.startDragging),this.handle.addEventListener("mousedown",this.startDragging),this.observer=new MutationObserver(this.updateData),this.observer.observe(this.container,{attributes:!0,childList:!1,subtree:!1})}initSizes(){var e=this;return b()(function*(){e.beforeImg=e.container.querySelector(".baf__img-preview.baf__before"),e.afterImg=e.container.querySelector(".baf__img-preview.baf__after"),e.innerAfterImg=e.afterImg.querySelector("img"),e.handle=e.container.querySelector(".baf__handle"),yield Promise.all([e._waitForImgLoad(e.beforeImg),e._waitForImgLoad(e.innerAfterImg)]),e._rePosition(),e.container.ownerDocument.defaultView.addEventListener("resize",e._rePosition),e.container.ownerDocument.defaultView.addEventListener("orientationchange",e._rePosition)})()}release(){this.observer.disconnect(),this.handle.removeEventListener("touchstart",this.startDragging),this.handle.removeEventListener("mousedown",this.startDragging),this.container.ownerDocument.defaultView.removeEventListener("resize",this._rePosition),this.container.ownerDocument.defaultView.removeEventListener("orientationchange",this._rePosition),this._stopTrackingMouseEvents()}startDragging(e){this.container.classList.add("baf__dragging"),this.container.classList.add("user-interacting"),this.containerRect=this.container.getBoundingClientRect();const i=this.handle.getBoundingClientRect(),{clientX:o}=f(e);this.handle.style.transform=`translate(${o-this.containerRect.left-i.width/2}px, -50%)`,this.handle.style.left="",this._startTrackingMouseEvents()}performUpdates(e){const{clientX:i}=f(e);this.movedTo=this._calculateMoveTo(i),this.handle.style.transform=`translate(${this.movedTo-this.offset.left}px, -50%)`,this._clipAfterImg(this.movedTo)}_calculateMoveTo(e){const i=e-this.containerRect.left,o=Math.max(0,i);return i>this.containerRect.width?this.containerRect.width:o}updatesAfterDrag(){this.container.classList.remove("baf__dragging"),this.container.classList.remove("user-interacting"),this.handle.style.setProperty("transform",""),this.handle.style.setProperty("left",`${this.movedTo}px`),this._stopTrackingMouseEvents()}updateData(e){Array.from(e).forEach(({attributeName:i})=>{if(i!=="data-ext")return;const o=this.extractData();this.applyData(o)})}extractData(){return JSON.parse(l.Base64.decode(this.container.dataset.ext))}applyData({imgBefore:e,imgBeforeAlt:i,imgAfter:o,imgAfterAlt:m,beforeText:_,afterText:D,beforeTextVisible:E,afterTextVisible:c}){this.beforeImg.src=e||this.beforeImg.src,this.beforeImg.setAttribute("alt",i),this.innerAfterImg.src=o||this.innerAfterImg.src,this.innerAfterImg.setAttribute("alt",m);const B=this.container.querySelector(".baf__title"),A=this.container.querySelector(".baf__title.baf__before");B.innerText=_,B.classList.toggle("baf__title--hidden",!E),A.innerText=D,A.classList.toggle("baf__title--hidden",!c),this._initialized=this.initSizes()}_rePosition(){const{width:e,height:i}=getComputedStyle(this.container);this.afterImg.style.width=e,this.afterImg.style.height=i;const o=this.container.getBoundingClientRect();this.handle.style.setProperty("left","");const{initialPosition:m}=this.extractData();(this._positionHandlers[m]||this._positionHandlers.center)(o)}_clipAfterImg(e){this.afterImg.style.transform=`translate(${e}px, 0)`,this.innerAfterImg.style.transform=`translate(-${e}px, 0)`}_stopTrackingMouseEvents(){this.doc.removeEventListener("touchmove",this.performUpdates,{passive:!0,capture:!0}),this.doc.removeEventListener("mousemove",this.performUpdates,{passive:!0,capture:!0}),this.doc.removeEventListener("touchend",this.updatesAfterDrag,{capture:!0}),this.doc.removeEventListener("mouseup",this.updatesAfterDrag,{capture:!0})}_startTrackingMouseEvents(){this.doc.addEventListener("touchmove",this.performUpdates,{passive:!0,capture:!0}),this.doc.addEventListener("mousemove",this.performUpdates,{passive:!0,capture:!0}),this.doc.addEventListener("touchend",this.updatesAfterDrag,{capture:!0}),this.doc.addEventListener("mouseup",this.updatesAfterDrag,{capture:!0})}_waitForImgLoad(e){return new Promise(i=>{e.onload=()=>{window.requestAnimationFrame(i)},e.src=e.src.slice()})}_bindMethods(){this.startDragging=this.startDragging.bind(this),this.performUpdates=this.performUpdates.bind(this),this.updatesAfterDrag=this.updatesAfterDrag.bind(this),this.updateData=this.updateData.bind(this),this._rePosition=this._rePosition.bind(this)}}p.displayName="BeforeAndAfter";const v={};function u(n){return Array.from(document.querySelectorAll(".dmBeforeAndAfter")).forEach(i=>{v[i.id]&&v[i.id].release(),v[i.id]=new p({container:i})}),v[(n||{}).id]||{}}function f(n){return n.type.includes("touch")?(n.touches||n.changedTouches)[0]:n}}}])})();
